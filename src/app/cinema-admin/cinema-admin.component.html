
<div class="admin-container">
    <div class="admin-hall"  #adminHall >
    
        <div [style]="styleHall">

            <div class="admin-hall-buttons-vertical">
                <div *ngFor="let h of hallHeightCount; index as i" [style.height.px]="scale">
                    <p-button icon="pi pi-plus" (onClick)="addRow(i)"></p-button>  
                    <p-button icon="pi pi-times" (onClick)="deleteRow(i)"></p-button>  
                </div>
            </div>
            <div *ngFor="let e of allElements; let i = index">
                <div class="elem"
                    [style]="e"
                    #elem 
                    pDroppable="seat"
                    (onDrop)="onDrop(elem, i)"
                    (onDragEnter)="onDragEnter(elem)"
                    (onDragLeave)="onDragLeave(elem)"
                >
                    <div class="elem-inner" [style]="styleInnerElem"></div>
                </div>
            </div>
        </div>
        <!--<div class="admin-grid" *ngFor="let elem of hallHeightCount; let i = index">
            <div class="admin-grid-row" *ngFor="let elem2 of hallWidthCount; let j = index">
                <div class="admin-grid-elem" 
                    [style]="styleElem" 
                    #elem 
                    (dblclick)="addElem(i, j)"
                    pDroppable="seat"
                    (onDrop)="onDrop(elem, i, j)"
                    (onDragEnter)="onDragEnter(elem)"
                    (onDragLeave)="onDragLeave(elem)"
                >
                </div>
            </div>
             
        </div>-->
        
        <div class="admin-hall-buttons-horizontal">
            <div *ngFor="let elem of hallWidthCount; let i = index" [style]="buttonContainerStyle">
                <p-button icon="pi pi-plus" (onClick)="addColumn(i)"></p-button>
                <p-button icon="pi pi-times" (onClick)="deleteColumn(i)"></p-button>
            </div>
        </div>
        
        
        <!--<app-seat 
            [seat]="seat" 
            [scale]="scale"
            [width]="seatWidth"
            pDraggable="seat"
            (onDragStart)="onDragStart(seat)"
            (onDragEnd)="onDragEnd()"
        ></app-seat>-->
        <div *ngFor="let seat of seats; let i = index">
            <app-seat 
                [seat]="seat" 
                [scale]="scale" 
                [width]="seatWidth"
                pDraggable="seat"
                (onDragStart)="onDragStart(i)"
                (onDragEnd)="onDragEnd()"
            ></app-seat>
        </div>
       
    </div>


    <div class="admin-form">
        <!--<p-button label="Сгенерировать" (onClick)="generateSeats()"></p-button>-->
        <div class="admin-form-group">
            <label for="hallWidth">Ширина зала</label>
            <p-inputNumber 
                [(ngModel)]="hallWidth"  
                inputId="hallWidth" 
                [useGrouping]="false"
                [min]="1"
            ></p-inputNumber>
        </div>
    
        <div class="admin-form-group">
            <label for="hallWidth">Длина зала</label>
            <p-inputNumber 
                    [(ngModel)]="hallHeight" 
                    inputId="hallHeight" 
                    [useGrouping]="false"
                    [min]="1"
            ></p-inputNumber>
        </div>
    
        <div class="admin-form-group">
            <label for="hallScale">Масштаб клетки</label>
            <p-inputNumber 
                [(ngModel)]="hallScale" 
                inputId="hallScale" 
                [useGrouping]="false"
                [min]="1"
            ></p-inputNumber>
                
        </div>

        <div class="admin-form-group">
            <label for="seatWidth">Ширина сиденья</label>
            <p-inputNumber 
                [(ngModel)]="formSeatWidth" 
                inputId="seatWidth" 
                [useGrouping]="false"
                [min]="1"
            ></p-inputNumber>
                
        </div>

        <p-button label="Применить" (onClick)="updateState()"></p-button>
    </div>
    
</div> 
<!--<div class="eat-container">
    <div  class="eat">
        <div #eat class="context">

        </div>
        <p-contextMenu [target]="eat" [model]="items" appendTo="body"></p-contextMenu>
    </div>
    
</div>-->
